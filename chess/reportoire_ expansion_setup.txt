so, we start off with using pgn-extract in pgn-unpacker which splits up a PGN file into individual PGNS

PGNs_to_all_FENs.py takes those PGNS and produces FENS. remember that if you're processing stuff for black, like the modern defense, then the useful output will be... whitetomove.txt as you're trying to find common responses to whatever your reportoire is

PGNs_to_commonmoves.py takes these lists of FENs and produces common moves

those common moves then need to be plugged in to FEN_to_bestmove.py

...and then we use chesslines_with_ucibestmove_to_single_pgn.py to create a single PGN that we can import.